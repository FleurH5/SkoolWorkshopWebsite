<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Opdracht details</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.9.1/font/bootstrap-icons.min.css"> 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="assignmentDetails.css">
    <link rel="icon" href="../Login/SKWLogoS.jpg" /> 


</head>
<body> 
    <nav class="navbar navbar-expand-lg navbar-dark" style="background: #3a2d2d">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">
                <img class="img-fluid custom-img-size" src="Images/SKWLogoTransparentWhite.png" alt="SkoolWorkshop Logo" />
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#myNavbar" aria-controls="myNavbar" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#"><span class="bi bi-person"></span> Your Account</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://weather.com/nl-NL/weer/vandaag/l/NLXX0002:1:NL?Goto=Redirected" target="_blank"><span class="bi bi-globe"></span> Weather</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-3" id="workshopsContainer">
        <h2 id="clientName"></h2>
        <h3 id="commissionName"></h3>
        
        <div class="row">
            <div class="col-md-4">
                <div class="card">
                    <div class="card-header">
                        Workshoptype
                    </div>
                    <div class="card-body"> 
                        <h5 class="card-title" id="workshopName1">Workshopnaam</h5>
                        <p class="card-text">workshop beschrijving</p>
                        <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDetails1">Details</button>
                    </div>
                </div>
            </div>
            <div class="col-md-5">
                <div class="collapse" id="collapseDetails1">
                    <div class="card card-body">
                        <h5>Details</h5>
                        <p class="time">Tijd: 14:00-17:00</p>
                        <p class="teachedBy">Wordt gegeven door: Een persoon</p>
                        <p class="attendees">Aantal deelnemers: 20</p>
                        <p class="targetAudience">Doelgroep: jongeren</p>
                        <p class="level">Niveau: havo / Leerjaar: 2</p>
                        <p class="description">Laat de Caribische ritmes door je heen stromen en beleef het gevoel van een echte brassband met onze 
                            Workshop Caribbean Drums! Zelfs als muziekinstrumenten nieuw voor je zijn, 
                            is deze workshop perfect geschikt. De muziek brengt je naar de betoverende 
                            klanken van Suriname, de Nederlandse Antillen, Aruba en Brazilië.</p>
                        <h5>Benodigdheden</h5>
                        <ul class="workshopSupplies">
                            <li>Drumstel</li>
                            <li>Drumstokken</li>
                            <li>Oorbeschermers</li>
                        </ul>
                    </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="collapse" id="collapseDetails1">
                        <div class="card card-body">
                            <h5>Opbrengst</h5>
                            <p>x minuten</p>
                            <p>x euro per uur</p>
                            <p>Totaal</p>
                            <p>€160</p>
                        </div>
                    </div>
                </div>
            </div>
        

        <!-- tweede workshop -->
            <div class="row">
                <div class="col-md-4">
                    <div class="card">
                        <div class="card-header">
                            Workshoptype2
                        </div>
                        <div class="card-body"> 
                            <h5 class="card-title" id="workshopName2">Workshopnaam2</h5>
                            <p class="card-text">workshop beschrijving2</p>
                            <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDetails2">Details</button>
                        </div>
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="collapse" id="collapseDetails2">
                        <div class="card card-body">
                            <h5>Details</h5>
                            <p class="time">Tijd: 17:00-23:00</p>
                            <p class="teachedBy">Wordt gegeven door: Een andere persoon</p>
                            <p class="attendees">Aantal deelnemers: 30</p>
                            <p class="targetAudience">Doelgroep: jongeren</p>
                            <p class="level">Niveau: vmbo / Leerjaar: 3</p>
                            <p class="description">Media wordt steeds populairder en fotografie speelt daarbij een belangrijke rol. 
                                Luminografie, ook wel lightpainting / light graffiti genoemd, is een techniek die vroeger al gebruikt werd 
                                door Pablo Picasso in de kunst.</p>
                            <h5>Benodigdheden</h5>
                            <ul class="workshopSupplies">
                                <li>Papier</li>
                                <li>Camera</li>
                                <li>Potloden</li>
                            </ul>
                        </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="collapse" id="collapseDetails2">
                            <div class="card card-body">
                                <h5>Opbrengst</h5>
                                <p>x minuten</p>
                                <p>x euro per uur</p>
                                <p>Totaal</p>
                                <p>€300</p>
                                <!-- <iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/2fzXuq0lGoxU9ah7YLlGDQ?utm_source=generator" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe> -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        <footer>
            <p>Skoolworkshop Copyright © 2024</p>
          </footer>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>


    <script>
    document.addEventListener('DOMContentLoaded', function() {
    const apiUrl = "https://skoolworkshopapi.azurewebsites.net/commission/1";
    fetch(apiUrl)
    .then(res => res.json())
    .then(data => {
        console.log('Data received:', data);

        
        document.getElementById('clientName').innerText = data.data.ClientName;
        document.getElementById('commissionName').innerText = data.data.CommissionName;
        // document.getElementById('commissionAddress').innerText = data.data.CommissionAddress;
        // document.getElementById('commissionNotes').innerText = data.data.CommissionNotes;

        // generate cards for each workshop mbv info api
        const workshopsContainer = document.getElementById('workshopsContainer');
        //data.data.workshops is hoe de array heet in de json
        data.data.Workshops.forEach((workshop, index) => { //voor elke workshop wordt deze code uitgevoerd
                    const workshopCard = document.createElement('div');
                    workshopCard.classList.add('col-md-12', 'mb-3'); 
                    workshopCard.innerHTML = `
                    <div class="row">
                    <div class="col-md-4">
                        <div class="card">
                            <div class="card-header">${workshop.WorkshopCategory}</div>
                            <div class="card-body"> 
                                <h5 class="card-title">${workshop.WorkshopName}</h5>
                                <p class="card-text">${workshop.WorkshopDescription}</p>
                                <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDetails${index}">Details</button>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-5">
                        <div class="collapse" id="collapseDetails${index}">
                            <div class="card card-body">
                                <h5>Details</h5>
                                <p class="time">Tijd: ${new Date(workshop.StartTime).toLocaleTimeString()} - ${new Date(workshop.EndTime).toLocaleTimeString()}</p>
                                <p class="teachedBy">Wordt gegeven door: ${workshop.Users.length > 0 ? workshop.Users[0].Username : 'Niemand'}</p>
                                <p class="attendees">Aantal deelnemers: ${workshop.NumberOfParticipants}</p>
                                <p class="targetAudience">Doelgroep: ${workshop.TargetGroup}</p>
                                <p class="level">Niveau: ${workshop.Level}</p>
                                <p class="description">${workshop.WorkshopNotes}</p>
                                <h5>Benodigdheden</h5>
                                <ul class="workshopSupplies">
                                    ${workshop.WorkshopRequirements.map(req => `<li>${req}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="collapse" id="collapseDetails${index}">
                            <div class="card card-body">
                                <h5>Opbrengst</h5>
                                <p>x minuten</p>
                                <p>x euro per uur</p>
                                <p>Totaal</p>
                                <p>€160</p>
                            </div>
                        </div>
                    </div>
                </div>
                    `;
                    workshopsContainer.appendChild(workshopCard); //workshopcards worden toegevoegd aan container
                });
            })
    .catch(error => {
        console.error('Error fetching data:', error);
    });
});

    
            
    </script>
</body>
</html>